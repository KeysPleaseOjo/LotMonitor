<!DOCTYPE html>
<html>

<body>
    <iframe id="diskFile" src="data.txt" onload="LoadFile();" style="display: none;"></iframe>
    <p id="debug1">debug text</p>
    <p id="debug2">debug text</p>

<script type="text/javascript">
var dataArray;

function LoadFile() {
    var datafile = document.getElementById("diskFile");
    var strContents = datafile.contentWindow.document.body.childNodes[0].innerHTML;
    while (strContents.indexOf("\r") >= 0)
        strContents = strContents.replace("\r", "");
    var lineArray = strContents.split("\n");
    var dataArray = lineArray[0].split(",");
    document.getElementById("debug1").innerHTML = "Array=" + lineArray + " of length: " + dataArray.length;
    document.getElementById("debug2").innerHTML = "First three data items=" + dataArray[0] + "--"+dataArray[1] + "--" + dataArray[2]+"--";
    // DEBUG: this code will show all lines in an alert box
    //for (var i = 0; i < lineArray.length; i++) {
    //    alert("Line #" + (i + 1) + " is: '" + lineArray[i] + "'");
    //}
}
</script>

</body>

</html>

